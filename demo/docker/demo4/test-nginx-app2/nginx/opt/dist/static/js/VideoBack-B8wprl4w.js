var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,o=(a,t,s)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[t]=s;import{_ as i}from"./icon_plan_count-_j6fu21V.js";import{c as n}from"./index-5mLQMBux.js";import{h as c}from"./StatisticalCenter-fzPo9Omj.js";import{_ as u,a as p}from"./bg_qualified_yellow-tE7Kg97M.js";import{d as m,a0 as f,A as v,Y as d,V as b,o as y,c as j,e as g,I as w,J as k,L as x,t as _,a5 as h,R as O,U as C,a1 as I,_ as P}from"./index-OtYEJMgP.js";import{e as R}from"./mitt-ei5ABelY.js";const D=e=>(O("data-v-37b7f048"),e=e(),C(),e),L={class:"w-full h-full grid grid-cols-[30%_1fr_1fr] px-4"},z={class:"item relative"},S={class:"total-container flex flex-col items-center justify-center gap-y-2"},T=D((()=>g("span",{class:"total-title"},"已记录作业数",-1))),V={class:"flex flex-row items-end"},A={class:"total-count"},B=D((()=>g("span",{class:"total-unit"},"项",-1))),E=D((()=>g("img",{class:"absolute w-4/5 aspect-[148/140] -z-1",src:i},null,-1))),q={class:"z-10 translate-y-[400%]"},J={class:"flex flex-row items-end gap-x-1 z-10 -translate-y-1/2"},U={class:"item-unit"},Y=["src"],F=m((G=((e,a)=>{for(var t in a||(a={}))l.call(a,t)&&o(e,t,a[t]);if(s)for(var t of s(a))r.call(a,t)&&o(e,t,a[t]);return e})({},{name:"VideoBack"}),a(G,t({__name:"VideoBack",props:{orgId:{default:""},majorTypes:{default:()=>[]},workRiskLevels:{default:()=>[]},time:{default:()=>[]}},setup(e){const a=e,t=f({orgId:"",majorType:"",workRiskLevel:"",beginDate:"",endDate:""}),s=v(0),l=d([{cls:"to-[#00e8ff]",img:u,value:"0",unit:"项",name:"已回传作业数"},{cls:"to-[#f88f3b]",img:p,value:"0",unit:"%",name:"回传率"}]),r=v(!1),o=h((()=>{return e=this,a=null,o=function*(){r.value=!0,s.value=0,l.value.forEach((e=>{e.value="0"})),c(t).then((e=>{I!==e&&(s.value=e.yjsCount||0,l.value[0].value=e.backCount||"0",l.value[1].value=e.backCount?n("backCount / yjsCount * 100 | <=2",e):"0")})).finally((()=>{r.value=!1}))},new Promise(((t,s)=>{var l=e=>{try{i(o.next(e))}catch(a){s(a)}},r=e=>{try{i(o.throw(e))}catch(a){s(a)}},i=e=>e.done?t(e.value):Promise.resolve(e.value).then(l,r);i((o=o.apply(e,a)).next())}));var e,a,o}),1e3);return b((()=>{R.on("StatisticalCenterAppliedStatisticsReload",(()=>{const{orgId:e,workRiskLevels:s,majorTypes:l,time:r=[]}=a,[i="",n=""]=r;Object.assign(t,{orgId:e,workRiskLevel:s.join(","),majorType:l.join(","),beginDate:i,endDate:n}),o()}))})),(e,a)=>(y(),j("div",L,[g("div",z,[g("div",S,[T,g("div",V,[g("span",A,w(s.value),1),B])]),E]),(y(!0),j(k,null,x(l.value,((e,a)=>(y(),j("div",{key:a,class:"item relative"},[g("span",q,w(e.name),1),g("div",J,[g("span",{class:_(["item-count",[e.cls]])},w(e.value),3),g("span",U,w(e.unit),1)]),g("img",{class:"absolute w-3/5 aspect-[154/163] -z-1",src:e.img},null,8,Y)])))),128))]))}}))));var G;const H=P(F,[["__scopeId","data-v-37b7f048"]]);export{H as default};
