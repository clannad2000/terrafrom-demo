var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,l=(a,t,r)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[t]=r,n=(e,a,t)=>new Promise(((r,s)=>{var o=e=>{try{n(t.next(e))}catch(a){s(a)}},l=e=>{try{n(t.throw(e))}catch(a){s(a)}},n=e=>e.done?r(e.value):Promise.resolve(e.value).then(o,l);n((t=t.apply(e,a)).next())}));import{_ as i}from"./alarm_record_bg-czveVNwc.js";import{k as c,l as m}from"./JobOverview-wJdELtdM.js";import{E as u}from"./icon_no_data-JkxAPqfn.js";import{u as p}from"./useAutoScroll-cuZfK63C.js";import{d as f,Y as d,V as v,r as y,o as b,c as j,J as w,L as x,e as g,t as h,I as _,b as O,u as k,a5 as P,R as C,U as T,a1 as A,_ as I}from"./index-OtYEJMgP.js";import{e as R}from"./mitt-ei5ABelY.js";const S=["onClick"],E={class:"flex flex-row items-center gap-x-2 p-2"},J={class:"txt truncate"},z=(e=>(C("data-v-d6983838"),e=e(),T(),e))((()=>g("img",{src:i},null,-1))),D={key:1,class:"w-full h-full flex flex-row items-center justify-center"},L=f((M=((e,a)=>{for(var t in a||(a={}))s.call(a,t)&&l(e,t,a[t]);if(r)for(var t of r(a))o.call(a,t)&&l(e,t,a[t]);return e})({},{name:"TodayAlarm"}),a(M,t({__name:"index",emits:["onTotalCount"],setup(e,{emit:a}){const t=d(null),{start:r,stop:s}=p({scrollRef:t,isAutoStart:!0}),o=a,l=d([]),i=P((()=>n(this,null,(function*(){l.value=[],s(),yield c().then((e=>{A!==e&&(l.value=e,f(),r())}))}))),1e3),f=P((()=>n(this,null,(function*(){yield m().then((e=>{A!==e&&o("onTotalCount",{total:e})}))}))),1e3);return v((()=>{i()})),(e,a)=>{const r=y("el-empty");return b(),j("div",{ref_key:"containerRef",ref:t,class:"overflow-y-auto"},[l.value.length?(b(!0),j(w,{key:0},x(l.value,(e=>(b(),j("div",{key:e.taskId,class:"w-full flex flex-col cursor-pointer",onClick:a=>(e=>{R.emit("onAlarmMarker",e)})(e)},[g("div",E,[g("div",{class:h(["label",[`tag-${e.alarmType}`]])},_(e.alarmTypeName),3),g("span",J,_(e.alarmContent),1)]),z],8,S)))),128)):(b(),j("div",D,[O(r,{description:"暂无数据",image:k(u),"image-size":80},null,8,["image"])]))],512)}}}))));var M;const N=I(L,[["__scopeId","data-v-d6983838"]]);export{N as default};
