var t=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;import{_ as a,a as l,b as i}from"./today_activity_item_bg-kPvjo0qU.js";import{P as n}from"./StatisticalCenter-fzPo9Omj.js";import{E as r}from"./icon_no_data-JkxAPqfn.js";import{d as o,A as c,n as u,a0 as m,Y as p,V as v,F as d,H as f,r as y,o as j,c as x,e as b,J as g,L as h,I as w,b as C,t as O,u as _,a5 as k,R as P,U as E,a1 as S,X as L,_ as T}from"./index-OtYEJMgP.js";import{e as z}from"./mitt-ei5ABelY.js";import I from"./instrumentPanel-nqeYqZ7J.js";import"./index-8BZoKa2l.js";import"./installCanvasRenderer-kp6nwiR2.js";import"./install-vdGRsLLb.js";import"./createSeriesData-rVoIjXPv.js";import"./dataSample-MvCW8qRP.js";import"./install-8-Qe0jiJ.js";import"./sectorHelper-nVwTOMBE.js";import"./install-50C6z8uZ.js";import"./install-wLyK8H0F.js";import"./Axis-xmqQ_bGV.js";import"./install-uIlpgulU.js";import"./installLabelLayout-tlP3-N5v.js";import"./install-XLlD8WoL.js";import"./install-XFuIEcts.js";import"./install-nwvgNUQF.js";import"./install-q7ZRUXrs.js";import"./install-FXlg7-M8.js";const R=t=>(P("data-v-38c95858"),t=t(),E(),t),q={class:"item"},A=R((()=>b("div",{class:"item-title"},[b("span",{class:"item-title-text"},"今日活跃度")],-1))),H={class:"item-content table-container"},D={class:"content-box reb-box"},F=[R((()=>b("img",{style:{width:"16px"},src:a,alt:""},null,-1)))],J=[R((()=>b("img",{style:{width:"16px"},src:l,alt:""},null,-1)))],M={class:"content-count"},N={class:"total"},U=R((()=>b("div",{class:"unit"},"台",-1))),V={class:"chart"},X={class:"content-detail"},Y={key:0,class:"detail-list"},B=R((()=>b("img",{src:i,alt:""},null,-1))),G={class:"list-item-content"},K={style:{display:"flex",width:"100%","justify-content":"flex-start"}},Q={class:"list-item-label",style:{"font-size":"12px"}},W=R((()=>b("span",{class:"list-item-before"},"台 数：",-1))),Z={class:"list-item-after"},$={style:{display:"flex",width:"100%","margin-top":"5px","justify-content":"flex-start"}},tt={class:"list-item-label",style:{"font-size":"12px"}},et=R((()=>b("span",{class:"list-item-before"}," 活跃率：",-1))),st={class:"list-item-after"},at={class:"list-item-name"},lt={key:1,class:"flex-1 flex flex-row items-center justify-center"},it=T(o({__name:"index",setup(a){const l=c(!1),i=u((()=>{let t=o.allCount+"";return 1===t.length&&(t="0"+t),t.split("")})),o=m({allCount:0,usageCount:0,usagePercent:0}),P=p([]),E=k((()=>{return a=this,i=null,r=function*(){l.value=!0,P.value=[],Object.keys(o).forEach((t=>{o[t]=0})),n().then((a=>{if(S!==a){const l=a,{vos:i}=l,n=((a,l)=>{var i={};for(var n in a)e.call(a,n)&&l.indexOf(n)<0&&(i[n]=a[n]);if(null!=a&&t)for(var n of t(a))l.indexOf(n)<0&&s.call(a,n)&&(i[n]=a[n]);return i})(l,["vos"]);Object.keys(o).forEach((t=>{o[t]=n[t]||0})),P.value=i,L((()=>{ot()}))}})).finally((()=>{l.value=!1}))},new Promise(((t,e)=>{var s=t=>{try{n(r.next(t))}catch(s){e(s)}},l=t=>{try{n(r.throw(t))}catch(s){e(s)}},n=e=>e.done?t(e.value):Promise.resolve(e.value).then(s,l);n((r=r.apply(a,i)).next())}));var a,i,r}),1e3),T=function(t){const e=nt.value.length;if(!e)return"";if(e>=5){if(0==t||4==t)return"outside";if(1==t||3==t)return"internal";if(2==t)return"center"}else if(4===e){if(0==t||3==t)return"outside";if(1==t||2==t)return"internal"}else if(3===e){if(0==t||2==t)return"internal";if(1==t)return"center"}else{if(2===e)return"internal";if(1===e)return"center"}};let R=null,it=0;const nt=p([]),rt=function(t,e,s=5){return Math.abs(e)>t.length&&(e%=t.length),t.slice(-e).concat(t.slice(0,-e)).slice(0,s)},ot=function(){const t=P.value.length;t&&(nt.value=rt(P.value,it),t>5&&(R&&clearTimeout(R),R=setTimeout((()=>{it++,ot()}),8e3)))},ct=t=>{"pre"==t?it--:it++,nt.value=rt(P.value,it)};return v((()=>{z.on("StatisticalCenterOverviewReload",(()=>{E()}))})),d((()=>{(()=>{const t=document.querySelector(".reb-box");null==t||t.addEventListener("mouseenter",(()=>{R&&clearTimeout(R),R=null})),null==t||t.addEventListener("mouseleave",(()=>{ot()}))})(),ot()})),f((()=>{R&&clearTimeout(R)})),(t,e)=>{const s=y("el-empty");return j(),x("div",q,[A,b("div",H,[b("div",D,[b("div",{class:"pre",onClick:e[0]||(e[0]=t=>ct("pre"))},F),b("div",{class:"next",onClick:e[1]||(e[1]=t=>ct("next"))},J),b("div",M,[b("div",N,[(j(!0),x(g,null,h(i.value,((t,e)=>(j(),x("div",{key:e,class:"num"},w(t),1)))),128)),U]),b("div",V,[C(I,{max:o.allCount,value:o.usageCount},null,8,["max","value"])])]),b("div",X,[nt.value.length?(j(),x("div",Y,[(j(!0),x(g,null,h(nt.value,((t,e)=>(j(),x("div",{key:e,class:O(["list-box","list-box-"+T(e)])},[B,b("div",G,[b("div",K,[b("span",Q,[W,b("span",Z,w(t.usageCount),1)])]),b("div",$,[b("span",tt,[et,b("span",st,w(t.usagePercent)+"% ",1)])])]),b("div",at,w(t.cityOrgName),1)],2)))),128))])):(j(),x("div",lt,[C(s,{description:"暂无数据",image:_(r),"image-size":60},null,8,["image"])]))])])])])}}}),[["__scopeId","data-v-38c95858"]]);export{it as default};
