var e=Object.defineProperty,a=Object.defineProperties,l=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,r=(a,l,t)=>l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[l]=t;import{d as n,A as p,a0 as u,Y as m,F as c,r as i,j as d,w as b,o as f,c as g,e as N,b as h,h as w,f as y,I as v,bs as x,a1 as C,bt as z}from"./index-OtYEJMgP.js";import{d as _}from"./download-z--BcN7F.js";const j={class:"h-full table-container"},O={class:"flex flex-col h-full gap-y-4"},P=n((S=((e,a)=>{for(var l in a||(a={}))o.call(a,l)&&r(e,l,a[l]);if(t)for(var l of t(a))s.call(a,l)&&r(e,l,a[l]);return e})({},{name:"OutsourcePersonnelIndex"}),a(S,l({__name:"index",setup(e){const a=p(!1),l=u({outCompanyName:"",userName:"",realName:""}),t=m([]),o=u({pageNum:1,pageSize:10,total:0}),s=()=>{a.value=!0;const{pageSize:e,pageNum:s}=o,{outCompanyName:r,userName:n,realName:p}=l;x({outCompanyName:r,userName:n,realName:p,pageSize:e,pageNum:s}).then((e=>{if(e&&C!==e){const{rows:a=[],total:l=0}=e;t.value=a,o.total=Number(l)||0}})).finally((()=>{a.value=!1}))},r=()=>{o.pageNum=1,s()},n=()=>{return e=this,t=null,o=function*(){a.value=!0;const{outCompanyName:e,userName:t,realName:o}=l;yield z({outCompanyName:e,userName:t,realName:o}).then((e=>{if(e&&(null==e?void 0:e.data)){const a=e.headers["content-disposition"];let l="unknown";a&&(l=window.decodeURI(a.split("=")[1])),_(e.data,l)}})).finally((()=>{a.value=!1}))},new Promise(((a,l)=>{var s=e=>{try{n(o.next(e))}catch(a){l(a)}},r=e=>{try{n(o.throw(e))}catch(a){l(a)}},n=e=>e.done?a(e.value):Promise.resolve(e.value).then(s,r);n((o=o.apply(e,t)).next())}));var e,t,o},P=()=>{s()};return c((()=>{s()})),(e,s)=>{const p=i("el-input"),u=i("el-form-item"),m=i("el-button"),c=i("el-form"),x=i("el-table-column"),C=i("el-table"),z=i("el-pagination"),_=d("loading");return b((f(),g("div",j,[N("div",O,[h(c,{inline:!0,"label-suffix":"：",class:"w-full table-query"},{default:w((()=>[h(u,{label:"单位名称",class:"m-0"},{default:w((()=>[h(p,{modelValue:l.outCompanyName,"onUpdate:modelValue":s[0]||(s[0]=e=>l.outCompanyName=e),class:"mb-4",clearable:"",maxlength:"20",placeholder:"请输入单位名称",formatter:e=>e.replace(/^\s*|\s*$/g,""),parser:e=>e.replace(/^\s*|\s*$/g,"")},null,8,["modelValue","formatter","parser"])])),_:1}),h(u,{label:"姓名",class:"m-0"},{default:w((()=>[h(p,{modelValue:l.realName,"onUpdate:modelValue":s[1]||(s[1]=e=>l.realName=e),clearable:"",class:"mb-4",placeholder:"请输入姓名",maxlength:"20"},null,8,["modelValue"])])),_:1}),h(u,{label:"账号",class:"m-0"},{default:w((()=>[h(p,{modelValue:l.userName,"onUpdate:modelValue":s[2]||(s[2]=e=>l.userName=e),clearable:"",class:"mb-4",placeholder:"请输入账号",maxlength:"20"},null,8,["modelValue"])])),_:1}),h(u,{label:"",class:"m-0"},{default:w((()=>[h(m,{class:"basic-button",onClick:r},{default:w((()=>[y(" 查询 ")])),_:1}),h(m,{class:"basic-button",onClick:n},{default:w((()=>[y(" 导出 ")])),_:1})])),_:1})])),_:1}),h(C,{class:"w-full h-full",data:t.value},{default:w((()=>[h(x,{type:"index",label:"序号",width:"80",align:"center"},{default:w((e=>[N("span",null,v((o.pageNum-1)*o.pageSize+e.$index+1),1)])),_:1}),h(x,{prop:"realName",align:"center",label:"姓名","show-overflow-tooltip":{popperClass:"max-w-xs whitespace-break-spaces"}}),h(x,{prop:"userName",align:"center",label:"登录账号","show-overflow-tooltip":{popperClass:"max-w-xs whitespace-break-spaces"}}),h(x,{prop:"outCompanyName",align:"center",label:"单位名称","show-overflow-tooltip":{popperClass:"max-w-xs whitespace-break-spaces"}})])),_:1},8,["data"]),h(z,{"current-page":o.pageNum,"onUpdate:currentPage":s[3]||(s[3]=e=>o.pageNum=e),"page-size":o.pageSize,"onUpdate:pageSize":s[4]||(s[4]=e=>o.pageSize=e),background:"",small:"",layout:"total, sizes, prev, pager, next, jumper",total:o.total,"page-sizes":[10,20,30,40,50,100],onSizeChange:r,onCurrentChange:P},null,8,["current-page","page-size","total"])])])),[[_,a.value]])}}}))));var S;export{P as _};
