var t=Object.defineProperty,e=Object.defineProperties,r=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,i=(e,r,a)=>r in e?t(e,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[r]=a;import{B as l}from"./index.esm.min-p6OgvXm7.js";import{Q as n}from"./StatisticalCenter-fzPo9Omj.js";import{d as c,A as p,Y as m,n as f,aD as h,ao as u,o as b,g as y,u as g,a5 as d,a1 as v}from"./index-OtYEJMgP.js";import{u as x,i as j}from"./installCanvasRenderer-kp6nwiR2.js";import{i as w}from"./install-wLyK8H0F.js";import{i as O}from"./install-q7ZRUXrs.js";import{i as S}from"./install-8-Qe0jiJ.js";import{i as C}from"./install-uIlpgulU.js";import{i as P}from"./install-FXlg7-M8.js";import{i as A}from"./install-nwvgNUQF.js";import{i as W}from"./install-XFuIEcts.js";const E=c((z=((t,e)=>{for(var r in e||(e={}))o.call(e,r)&&i(t,r,e[r]);if(a)for(var r of a(e))s.call(e,r)&&i(t,r,e[r]);return t})({},{name:"CityOrg"}),e(z,r({__name:"CityOrg",setup(t){x([w,O,S,j,C,P,A,W]);const e=p(!1),r=m([]),a=d((()=>{return t=this,a=null,s=function*(){e.value=!0,r.value=[],n().then((t=>{v!==t&&(r.value=o(t))})).finally((()=>{e.value=!1}))},new Promise(((e,r)=>{var o=t=>{try{l(s.next(t))}catch(e){r(e)}},i=t=>{try{l(s.throw(t))}catch(e){r(e)}},l=t=>t.done?e(t.value):Promise.resolve(t.value).then(o,i);l((s=s.apply(t,a)).next())}));var t,a,s}),1e3),o=t=>{const e=[],r=new Map;return t[0].vos.forEach((t=>{e.push({cityOrg:t.value,cityOrgName:t.text,"一级":"0","二级":"0","三级":"0","四级":"0","五级":"0"}),r.set(t.value,e[e.length-1])})),t.forEach((t=>{const e=t.text;t.vos.forEach((t=>{const a=r.get(t.value);a&&(a[e]=t.count)}))})),e},s=f((()=>{const t=h(r.value);return{color:["#E84200","#F78A38","#E3CD00","#409AF3","#0BC467"],legend:{itemWidth:10,itemHeight:10,itemGap:30,textStyle:{color:"#fff",fontSize:14}},grid:{top:"15%",right:0,bottom:t.length>5?"7.5%":0,left:"3.5%",containLabel:!0},dataZoom:[{type:"slider",height:7,bottom:0,brushSelect:!1,showDetail:!1,showDataShadow:!1,zoomLock:!0,show:t.length>5,startValue:0,endValue:4,backgroundColor:"rgba(17, 98, 255, 0.28)",fillerColor:"rgb(54, 123, 255)",borderColor:"transparent",handleSize:0}],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},dataset:{dimensions:["cityOrgName","一级","二级","三级","四级","五级"],source:t},xAxis:{type:"category",show:!0,axisTick:{show:!1},textStyle:{color:"#528BA4"},axisLabel:{show:!0,interval:0,textStyle:{color:"#fff",fontSize:14,fontWeight:500},formatter:function(t){let e="";const r=t.length,a=Math.ceil(r/4);if(r>4)for(let o=0;o<a;o++){let s="";const i=4*o,l=i+4;s=o==a-1?t.substring(i,r):t.substring(i,l)+"\n",e+=s}else e=t;return e}}},yAxis:{type:"value",minInterval:1,splitLine:{lineStyle:{type:"dashed",color:"#528BA4"},show:!0},axisLabel:{textStyle:{color:"rgba(255,255,255,0.8)"}}},series:[{type:"bar",barWidth:10},{type:"bar",barWidth:10},{type:"bar",barWidth:10},{type:"bar",barWidth:10},{type:"bar",barWidth:10}]}}));return u((()=>{a()})),(t,e)=>(b(),y(g(l),{ref:"vchart",class:"w-full h-full",option:s.value,autoresize:""},null,8,["option"]))}}))));var z;export{E as _};
