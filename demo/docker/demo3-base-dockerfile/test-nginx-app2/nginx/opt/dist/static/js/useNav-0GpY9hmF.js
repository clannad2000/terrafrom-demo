import{ad as e,ae as t,af as i,ag as a,ah as s,ai as l,W as o,i as n,aj as r,p as u,n as c,G as d,P as p,Q as h,ak as g,al as v}from"./index-OtYEJMgP.js";import{e as m}from"./mitt-ei5ABelY.js";const f=e({id:"pure-app",state:()=>{var e,l,o,n;return{sidebar:{opened:null!=(l=null==(e=t().getItem(`${i()}layout`))?void 0:e.sidebarStatus)?l:a().SidebarStatus,withoutAnimation:!1,isClickCollapse:!1},layout:null!=(n=null==(o=t().getItem(`${i()}layout`))?void 0:o.layout)?n:a().Layout,device:s()?"mobile":"desktop"}},getters:{getSidebarStatus:e=>e.sidebar.opened,getDevice:e=>e.device},actions:{TOGGLE_SIDEBAR(e,a){const s=t().getItem(`${i()}layout`);e&&a?(this.sidebar.withoutAnimation=!0,this.sidebar.opened=!0,s.sidebarStatus=!0):!e&&a?(this.sidebar.withoutAnimation=!0,this.sidebar.opened=!1,s.sidebarStatus=!1):e||a||(this.sidebar.withoutAnimation=!1,this.sidebar.opened=!this.sidebar.opened,this.sidebar.isClickCollapse=!this.sidebar.opened,s.sidebarStatus=this.sidebar.opened),t().setItem(`${i()}layout`,s)},toggleSideBar(e,t){return i=this,a=null,s=function*(){yield this.TOGGLE_SIDEBAR(e,t)},new Promise(((e,t)=>{var l=e=>{try{n(s.next(e))}catch(i){t(i)}},o=e=>{try{n(s.throw(e))}catch(i){t(i)}},n=t=>t.done?e(t.value):Promise.resolve(t.value).then(l,o);n((s=s.apply(i,a)).next())}));var i,a,s},toggleDevice(e){this.device=e},setLayout(e){this.layout=e}},persist:!0});function y(){var e,t;const i=o(),s=f(l),y=n().options.routes,{wholeMenus:b}=r(u()),S=null!=(t=null==(e=a())?void 0:e.TooltipEffect)?t:"light",w=c((()=>!1)),x=c((()=>({width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",overflow:"hidden"}))),k=c((()=>{var e,t;return null==(t=null==(e=p())?void 0:e.getUserInfoState)?void 0:t.realName})),_=c((()=>k.value?{marginRight:"10px"}:"")),C=c((()=>!s.getSidebarStatus)),A=c((()=>s.getDevice)),{$storage:E,$config:D}=d(),F=c((()=>{var e;return null==(e=null==E?void 0:E.layout)?void 0:e.layout}));return{route:i,title:c((()=>D.Title)),device:A,layout:F,logout:function(){p().logOut()},resetPwd:function(){p().resetPwd()},routers:y,$storage:E,backTopMenu:function(){var e;h.push(null==(e=g())?void 0:e.path)},onPanel:function(){m.emit("openPanel")},getDivStyle:x,changeTitle:function(e){const t=a().Title;document.title=t?`${e.title} | ${t}`:e.title},toggleSideBar:function(){s.toggleSideBar()},menuSelect:function(e){var t;0===b.value.length||(t=e,v.includes(t))||m.emit("changLayoutRoute",e)},handleResize:function(e){null==e||e.handleResize()},resolvePath:function(e){var t;if(!e.children)return console.error("当前路由配置不正确，请检查配置");const i=null==(t=e.children[0])?void 0:t.path;return/^http(s?):\/\//.test(i)?e.path+"/"+i:i},isCollapse:C,pureApp:s,realName:k,isDevelop:w,userAvatar:"data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='16'%20cy='16'%20r='16'%20fill='%23EAF2FF'/%3e%3cmask%20id='mask0_3586_2549'%20style='mask-type:alpha'%20maskUnits='userSpaceOnUse'%20x='0'%20y='0'%20width='32'%20height='32'%3e%3ccircle%20cx='16'%20cy='16'%20r='16'%20fill='%23EAF2FF'/%3e%3c/mask%3e%3cg%20mask='url(%23mask0_3586_2549)'%3e%3cpath%20d='M13.2072%2017H19.7928C25.4314%2017%2030%2021.2601%2030%2026.5177V27.1311C30%2029.2046%2027.2357%2032%2021.5973%2032H11.7175C6.07885%2032%203%2029.2801%203%2027.1311V26.5177C3%2021.2601%207.5686%2017%2013.2072%2017Z'%20fill='url(%23paint0_linear_3586_2549)'/%3e%3c/g%3e%3cellipse%20cx='16.113'%20cy='11.9383'%20rx='6.11295'%20ry='5.9383'%20fill='%23BED5FC'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_3586_2549'%20x1='7.5'%20y1='4.57076'%20x2='25.9464'%20y2='26.2019'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%233D88FE'/%3e%3cstop%20offset='1'%20stop-color='%232576F6'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",avatarsStyle:_,tooltipEffect:S}}export{y as u};
