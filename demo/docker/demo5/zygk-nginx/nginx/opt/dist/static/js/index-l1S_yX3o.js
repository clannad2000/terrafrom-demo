var e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;import{_ as s,a as l,b as n}from"./today_activity_item_bg-kPvjo0qU.js";import{q as i}from"./StatisticalCenter-fzPo9Omj.js";import{E as r}from"./icon_no_data-JkxAPqfn.js";import{d as o,A as c,n as u,a0 as d,Y as v,V as m,F as f,H as y,r as p,j as b,o as g,c as h,e as x,w as j,J as _,L as w,I as k,t as O,b as C,u as E,a5 as R,R as S,U as P,a1 as T,X as I,_ as L}from"./index-OtYEJMgP.js";import{e as U}from"./mitt-ei5ABelY.js";const q=e=>(S("data-v-ba14641d"),e=e(),P(),e),z={class:"item"},A=q((()=>x("div",{class:"item-title"},[x("span",{class:"item-title-text"},"今日活跃度")],-1))),D={class:"item-content table-container"},F={class:"content-box today-activity reb-box","element-loading-background":"rgba(22,52,61)"},H=[q((()=>x("img",{style:{width:"16px"},src:s,alt:""},null,-1)))],J=[q((()=>x("img",{style:{width:"16px"},src:l,alt:""},null,-1)))],M={key:0,class:"today-activity-content"},N={class:"today-activity-count"},V=q((()=>x("div",{class:"today-activity-count-unit"},"台",-1))),X={class:"today-activity-detail"},Y=q((()=>x("img",{src:n,alt:""},null,-1))),B={class:"item-detail"},G={class:"item-num"},K=q((()=>x("span",{class:"item-unit"},"台",-1))),Q={class:"item-name"},W={key:1,class:"w-full h-full flex flex-row items-center justify-center"},Z=L(o({__name:"index",setup(s){const l=c(!1),n=u((()=>{let e=o.allRecorderUsageCount;return 1===e.length&&(e="0"+e),e.split("")})),o=d({allRecorderUsageCount:"0"}),S=v([]),P=R((()=>{return s=this,n=null,r=function*(){l.value=!0,S.value=[],Object.keys(o).forEach((e=>{o[e]="0"})),i().then((s=>{if(T!==s){console.log(s);const l=s,{vos:n}=l,i=((s,l)=>{var n={};for(var i in s)t.call(s,i)&&l.indexOf(i)<0&&(n[i]=s[i]);if(null!=s&&e)for(var i of e(s))l.indexOf(i)<0&&a.call(s,i)&&(n[i]=s[i]);return n})(l,["vos"]);Object.keys(o).forEach((e=>{o[e]=i[e]||"0"})),S.value=n,I((()=>{te()}))}})).finally((()=>{l.value=!1}))},new Promise(((e,t)=>{var a=e=>{try{i(r.next(e))}catch(a){t(a)}},l=e=>{try{i(r.throw(e))}catch(a){t(a)}},i=t=>t.done?e(t.value):Promise.resolve(t.value).then(a,l);i((r=r.apply(s,n)).next())}));var s,n,r}),1e3),L=function(e){const t=$.value.length;if(!t)return"";if(t>=5){if(0==e||4==e)return"outside";if(1==e||3==e)return"internal";if(2==e)return"center"}else if(4===t){if(0==e||3==e)return"outside";if(1==e||2==e)return"internal"}else if(3===t){if(0==e||2==e)return"internal";if(1==e)return"center"}else{if(2===t)return"internal";if(1===t)return"center"}};let q=null,Z=0;const $=v([]),ee=function(e,t,a=5){return Math.abs(t)>e.length&&(t%=e.length),e.slice(-t).concat(e.slice(0,-t)).slice(0,a)},te=function(){const e=S.value.length;e&&($.value=ee(S.value,Z),e>5&&(q&&clearTimeout(q),q=setTimeout((()=>{Z++,te()}),8e3)))},ae=e=>{"pre"==e?Z--:Z++,$.value=ee(S.value,Z)};return m((()=>{U.on("StatisticalCenterDeviceStatisticsReload",(()=>{P()}))})),f((()=>{(()=>{const e=document.querySelector(".reb-box");null==e||e.addEventListener("mouseenter",(()=>{q&&clearTimeout(q),q=null})),null==e||e.addEventListener("mouseleave",(()=>{te()}))})(),te()})),y((()=>{q&&clearTimeout(q)})),(e,t)=>{const a=p("el-empty"),s=b("loading");return g(),h("div",z,[A,x("div",D,[j((g(),h("div",F,[x("div",{class:"pre",onClick:t[0]||(t[0]=e=>ae("pre"))},H),x("div",{class:"next",onClick:t[1]||(t[1]=e=>ae("next"))},J),$.value.length?(g(),h("div",M,[x("div",N,[(g(!0),h(_,null,w(n.value,((e,t)=>(g(),h("div",{key:t,class:"today-activity-count-num"},k(e),1)))),128)),V]),x("div",X,[(g(!0),h(_,null,w($.value,((e,t)=>(g(),h("div",{key:t,class:O(["list-box","list-box-"+L(t)])},[Y,x("div",B,[x("span",G,k(e.usageRecorderCount)+" ",1),K]),x("div",Q,k(e.orgName),1)],2)))),128))])])):(g(),h("div",W,[C(a,{description:"暂无数据",image:E(r),"image-size":60},null,8,["image"])]))])),[[s,l.value]])])])}}}),[["__scopeId","data-v-ba14641d"]]);export{Z as default};
