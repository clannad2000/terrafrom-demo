import{bh as e,aC as t,g as a,aB as n,bs as i,c7 as r,Y as s,bu as o,W as l,c8 as g,aS as c,P as h,c9 as u,ca as d,cb as f,cc as p,cd as y,ce as v,b as m,f as b,cf as x,_ as M,a5 as A,p as w,j as S,k as L,s as T,y as D,x as N,v as I,q as C,$ as P,z as k,m as _,C as G,bG as E,bI as O,F as W,A as R,cg as B,ch as V,ci as q,S as z,E as U,cj as Y}from"./installCanvasRenderer-kp6nwiR2.js";import{g as j}from"./sectorHelper-nVwTOMBE.js";var F=2*Math.PI,H=Math.PI/180;function X(e,a){return t(e.getBoxLayoutParams(),{width:a.getWidth(),height:a.getHeight()})}function Z(e,t){var i=X(e,t),r=e.get("center"),s=e.get("radius");a(s)||(s=[0,s]);var o,l,g=n(i.width,t.getWidth()),c=n(i.height,t.getHeight()),h=Math.min(g,c),u=n(s[0],h/2),d=n(s[1],h/2),f=e.coordinateSystem;if(f){var p=f.dataToPoint(r);o=p[0]||0,l=p[1]||0}else a(r)||(r=[r,r]),o=n(r[0],g)+i.x,l=n(r[1],c)+i.y;return{cx:o,cy:l,r0:u,r:d}}function $(t,a,n){a.eachSeriesByType(t,(function(t){var a=t.getData(),i=a.mapDimension("value"),r=X(t,n),s=Z(t,n),o=s.cx,l=s.cy,g=s.r,c=s.r0,h=-t.get("startAngle")*H,u=t.get("minAngle")*H,d=0;a.each(i,(function(e){!isNaN(e)&&d++}));var f=a.getSum(i),p=Math.PI/(f||d)*2,y=t.get("clockwise"),v=t.get("roseType"),m=t.get("stillShowZeroSum"),b=a.getDataExtent(i);b[0]=0;var x=F,M=0,A=h,w=y?1:-1;if(a.setLayout({viewRect:r,r:g}),a.each(i,(function(t,n){var i;if(isNaN(t))a.setItemLayout(n,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:y,cx:o,cy:l,r0:c,r:v?NaN:g});else{(i="area"!==v?0===f&&m?p:t*p:F/d)<u?(i=u,x-=u):M+=t;var r=A+w*i;a.setItemLayout(n,{angle:i,startAngle:A,endAngle:r,clockwise:y,cx:o,cy:l,r0:c,r:v?e(t,b,[c,g]):g}),A=r}})),x<F&&d)if(x<=.001){var S=F/d;a.each(i,(function(e,t){if(!isNaN(e)){var n=a.getItemLayout(t);n.angle=S,n.startAngle=h+w*t*S,n.endAngle=h+w*(t+1)*S}}))}else p=x/M,A=h,a.each(i,(function(e,t){if(!isNaN(e)){var n=a.getItemLayout(t),i=n.angle===u?u:e*p;n.startAngle=A,n.endAngle=A+w*i,A+=w*i}}))}))}function J(e){return{seriesType:e,reset:function(e,t){var a=t.findComponents({mainType:"legend"});if(a&&a.length){var n=e.getData();n.filterSelf((function(e){for(var t=n.getName(e),i=0;i<a.length;i++)if(!a[i].isSelected(t))return!1;return!0}))}}}}var Q=2*Math.PI,K=y.CMD,ee=["top","right","bottom","left"];function te(e,t,a,n,i){var r=a.width,s=a.height;switch(e){case"top":n.set(a.x+r/2,a.y-t),i.set(0,-1);break;case"bottom":n.set(a.x+r/2,a.y+s+t),i.set(0,1);break;case"left":n.set(a.x-t,a.y+s/2),i.set(-1,0);break;case"right":n.set(a.x+r+t,a.y+s/2),i.set(1,0)}}function ae(e,t,a,n,i,r,s,o,l){s-=e,o-=t;var g=Math.sqrt(s*s+o*o),c=(s/=g)*a+e,h=(o/=g)*a+t;if(Math.abs(n-i)%Q<1e-4)return l[0]=c,l[1]=h,g-a;if(r){var u=n;n=v(i),i=v(u)}else n=v(n),i=v(i);n>i&&(i+=Q);var d=Math.atan2(o,s);if(d<0&&(d+=Q),d>=n&&d<=i||d+Q>=n&&d+Q<=i)return l[0]=c,l[1]=h,g-a;var f=a*Math.cos(n)+e,p=a*Math.sin(n)+t,y=a*Math.cos(i)+e,m=a*Math.sin(i)+t,b=(f-s)*(f-s)+(p-o)*(p-o),x=(y-s)*(y-s)+(m-o)*(m-o);return b<x?(l[0]=f,l[1]=p,Math.sqrt(b)):(l[0]=y,l[1]=m,Math.sqrt(x))}function ne(e,t,a,n,i,r,s,o){var l=i-e,g=r-t,c=a-e,h=n-t,u=Math.sqrt(c*c+h*h),d=(l*(c/=u)+g*(h/=u))/u;o&&(d=Math.min(Math.max(d,0),1)),d*=u;var f=s[0]=e+d*c,p=s[1]=t+d*h;return Math.sqrt((f-i)*(f-i)+(p-r)*(p-r))}function ie(e,t,a,n,i,r,s){a<0&&(e+=a,a=-a),n<0&&(t+=n,n=-n);var o=e+a,l=t+n,g=s[0]=Math.min(Math.max(i,e),o),c=s[1]=Math.min(Math.max(r,t),l);return Math.sqrt((g-i)*(g-i)+(c-r)*(c-r))}var re=[];function se(e,t,a){var n=ie(t.x,t.y,t.width,t.height,e.x,e.y,re);return a.set(re[0],re[1]),n}function oe(e,t,a){for(var n,i,r=0,s=0,o=0,l=0,g=Infinity,c=t.data,h=e.x,u=e.y,d=0;d<c.length;){var y=c[d++];1===d&&(o=r=c[d],l=s=c[d+1]);var v=g;switch(y){case K.M:r=o=c[d++],s=l=c[d++];break;case K.L:v=ne(r,s,c[d],c[d+1],h,u,re,!0),r=c[d++],s=c[d++];break;case K.C:v=p(r,s,c[d++],c[d++],c[d++],c[d++],c[d],c[d+1],h,u,re),r=c[d++],s=c[d++];break;case K.Q:v=f(r,s,c[d++],c[d++],c[d],c[d+1],h,u,re),r=c[d++],s=c[d++];break;case K.A:var m=c[d++],b=c[d++],x=c[d++],M=c[d++],A=c[d++],w=c[d++];d+=1;var S=!!(1-c[d++]);n=Math.cos(A)*x+m,i=Math.sin(A)*M+b,d<=1&&(o=n,l=i),v=ae(m,b,M,A,A+w,S,(h-m)*M/x+m,u,re),r=Math.cos(A+w)*x+m,s=Math.sin(A+w)*M+b;break;case K.R:v=ie(o=r=c[d++],l=s=c[d++],c[d++],c[d++],h,u,re);break;case K.Z:v=ne(r,s,o,l,h,u,re,!0),r=o,s=l}v<g&&(g=v,a.set(re[0],re[1]))}return g}var le=new i,ge=new i,ce=new i,he=new i,ue=new i;function de(e,t){if(e){var a=e.getTextGuideLine(),n=e.getTextContent();if(n&&a){var r=e.textGuideLineConfig||{},s=[[0,0],[0,0],[0,0]],o=r.candidates||ee,l=n.getBoundingRect().clone();l.applyTransform(n.getComputedTransform());var g=Infinity,u=r.anchor,d=e.getComputedTransform(),f=d&&c([],d),p=t.get("length2")||0;u&&ce.copy(u);for(var y=0;y<o.length;y++){te(o[y],0,l,le,he),i.scaleAndAdd(ge,le,he,p),ge.transform(f);var v=e.getBoundingRect(),m=u?u.distance(ge):e instanceof h?oe(ge,e.path,ce):se(ge,v,ce);m<g&&(g=m,ge.transform(d),ce.transform(d),ce.toArray(s[0]),ge.toArray(s[1]),le.toArray(s[2]))}ye(s,t.get("minTurnAngle")),a.setShape({points:s})}}}var fe=[],pe=new i;function ye(e,t){if(t<=180&&t>0){t=t/180*Math.PI,le.fromArray(e[0]),ge.fromArray(e[1]),ce.fromArray(e[2]),i.sub(he,le,ge),i.sub(ue,ce,ge);var a=he.len(),n=ue.len();if(!(a<.001||n<.001)){he.scale(1/a),ue.scale(1/n);var r=he.dot(ue);if(Math.cos(t)<r){var s=ne(ge.x,ge.y,ce.x,ce.y,le.x,le.y,fe,!1);pe.fromArray(fe),pe.scaleAndAdd(ue,s/Math.tan(Math.PI-t));var o=ce.x!==ge.x?(pe.x-ge.x)/(ce.x-ge.x):(pe.y-ge.y)/(ce.y-ge.y);if(isNaN(o))return;o<0?i.copy(pe,ge):o>1&&i.copy(pe,ce),pe.toArray(e[1])}}}}function ve(e,t,a){if(a<=180&&a>0){a=a/180*Math.PI,le.fromArray(e[0]),ge.fromArray(e[1]),ce.fromArray(e[2]),i.sub(he,ge,le),i.sub(ue,ce,ge);var n=he.len(),r=ue.len();if(!(n<.001||r<.001))if(he.scale(1/n),ue.scale(1/r),he.dot(t)<Math.cos(a)){var s=ne(ge.x,ge.y,ce.x,ce.y,le.x,le.y,fe,!1);pe.fromArray(fe);var o=Math.PI/2,l=o+Math.acos(ue.dot(t))-a;if(l>=o)i.copy(pe,ce);else{pe.scaleAndAdd(ue,s/Math.tan(Math.PI/2-l));var g=ce.x!==ge.x?(pe.x-ge.x)/(ce.x-ge.x):(pe.y-ge.y)/(ce.y-ge.y);if(isNaN(g))return;g<0?i.copy(pe,ge):g>1&&i.copy(pe,ce)}pe.toArray(e[1])}}}function me(e,t,a,n){var i="normal"===a,r=i?e:e.ensureState(a);r.ignore=t;var s=n.get("smooth");s&&!0===s&&(s=.3),r.shape=r.shape||{},s>0&&(r.shape.smooth=s);var o=n.getModel("lineStyle").getLineStyle();i?e.useStyle(o):r.style=o}function be(e,t){var a=t.smooth,n=t.points;if(n)if(e.moveTo(n[0][0],n[0][1]),a>0&&n.length>=3){var i=u(n[0],n[1]),r=u(n[1],n[2]);if(!i||!r)return e.lineTo(n[1][0],n[1][1]),void e.lineTo(n[2][0],n[2][1]);var s=Math.min(i,r)*a,o=d([],n[1],n[0],s/i),l=d([],n[1],n[2],s/r),g=d([],o,l,.5);e.bezierCurveTo(o[0],o[1],o[0],o[1],g[0],g[1]),e.bezierCurveTo(l[0],l[1],l[0],l[1],n[2][0],n[2][1])}else for(var c=1;c<n.length;c++)e.lineTo(n[c][0],n[c][1])}function xe(e,t,a){var n=e.getTextGuideLine(),i=e.getTextContent();if(i){for(var g=t.normal,c=g.get("show"),h=i.ignore,u=0;u<r.length;u++){var d=r[u],f=t[d],p="normal"===d;if(f){var y=f.get("show");if((p?h:s(i.states[d]&&i.states[d].ignore,h))||!s(y,c)){var v=p?n:n&&n.states[d];v&&(v.ignore=!0);continue}n||(n=new o,e.setTextGuideLine(n),p||!h&&c||me(n,!0,"normal",t.normal),e.stateProxy&&(n.stateProxy=e.stateProxy)),me(n,!1,d,f)}}if(n){l(n.style,a),n.style.fill=null;var m=g.get("showAbove");(e.textGuideLineConfig=e.textGuideLineConfig||{}).showAbove=m||!1,n.buildPath=be}}else n&&e.removeTextGuideLine()}function Me(e,t){t=t||"labelLine";for(var a={normal:e.getModel(t)},n=0;n<g.length;n++){var i=g[n];a[i]=e.getModel([i,t])}return a}var Ae=Math.PI/180;function we(e,t,a,n,i,r,s,o,l,g){if(!(e.length<2)){for(var c=e.length,h=0;h<c;h++)if("outer"===e[h].position&&"labelLine"===e[h].labelAlignTo){var u=e[h].label.x-g;e[h].linePoints[1][0]+=u,e[h].label.x=g}x(e,l,l+s)&&function(e){for(var r={list:[],maxY:0},s={list:[],maxY:0},o=0;o<e.length;o++)if("none"===e[o].labelAlignTo){var l=e[o],g=l.label.y>a?s:r,c=Math.abs(l.label.y-a);if(c>=g.maxY){var h=l.label.x-t-l.len2*i,u=n+l.len,f=Math.abs(h)<u?Math.sqrt(c*c/(1-h*h/u/u)):u;g.rB=f,g.maxY=c}g.list.push(l)}d(r),d(s)}(e)}function d(e){for(var r=e.rB,s=r*r,o=0;o<e.list.length;o++){var l=e.list[o],g=Math.abs(l.label.y-a),c=n+l.len,h=c*c,u=Math.sqrt((1-Math.abs(g*g/s))*h),d=t+(u+l.len2)*i,f=d-l.label.x;Se(l,l.targetTextWidth-f*i,!0),l.label.x=d}}}function Se(e,t,a){if(void 0===a&&(a=!1),null==e.labelStyleWidth){var n=e.label,i=n.style,r=e.rect,s=i.backgroundColor,o=i.padding,l=o?o[1]+o[3]:0,g=i.overflow,c=r.width+(s?0:l);if(t<c||a){var h=r.height;if(g&&g.match("break")){n.setStyle("backgroundColor",null),n.setStyle("width",t-l);var u=n.getBoundingRect();n.setStyle("width",Math.ceil(u.width)),n.setStyle("backgroundColor",s)}else{var d=t-l,f=t<c?d:a?d>e.unconstrainedWidth?null:d:null;n.setStyle("width",f)}var p=n.getBoundingRect();r.width=p.width;var y=(n.style.margin||0)+2.1;r.height=p.height+y,r.y-=(r.height-h)/2}}}function Le(e){return"center"===e.position}function Te(e){var t,a,r=e.getData(),s=[],o=!1,l=(e.get("minShowLabelAngle")||0)*Ae,g=r.getLayout("viewRect"),c=r.getLayout("r"),h=g.width,u=g.x,d=g.y,f=g.height;function p(e){e.ignore=!0}r.each((function(e){var g=r.getItemGraphicEl(e),d=g.shape,f=g.getTextContent(),y=g.getTextGuideLine(),v=r.getItemModel(e),x=v.getModel("label"),M=x.get("position")||v.get(["emphasis","label","position"]),A=x.get("distanceToLabelLine"),w=x.get("alignTo"),S=n(x.get("edgeDistance"),h),L=x.get("bleedMargin"),T=v.getModel("labelLine"),D=T.get("length");D=n(D,h);var N=T.get("length2");if(N=n(N,h),Math.abs(d.endAngle-d.startAngle)<l)return m(f.states,p),f.ignore=!0,void(y&&(m(y.states,p),y.ignore=!0));if(function(e){if(!e.ignore)return!0;for(var t in e.states)if(!1===e.states[t].ignore)return!0;return!1}(f)){var I,C,P,k,_=(d.startAngle+d.endAngle)/2,G=Math.cos(_),E=Math.sin(_);t=d.cx,a=d.cy;var O="inside"===M||"inner"===M;if("center"===M)I=d.cx,C=d.cy,k="center";else{var W=(O?(d.r+d.r0)/2*G:d.r*G)+t,R=(O?(d.r+d.r0)/2*E:d.r*E)+a;if(I=W+3*G,C=R+3*E,!O){var B=W+G*(D+c-d.r),V=R+E*(D+c-d.r),q=B+(G<0?-1:1)*N;I="edge"===w?G<0?u+S:u+h-S:q+(G<0?-A:A),C=V,P=[[W,R],[B,V],[q,V]]}k=O?"center":"edge"===w?G>0?"right":"left":G>0?"left":"right"}var z=Math.PI,U=0,Y=x.get("rotate");if(b(Y))U=Y*(z/180);else if("center"===M)U=0;else if("radial"===Y||!0===Y){U=G<0?-_+z:-_}else if("tangential"===Y&&"outside"!==M&&"outer"!==M){var j=Math.atan2(G,E);j<0&&(j=2*z+j),E>0&&(j=z+j),U=j-z}if(o=!!U,f.x=I,f.y=C,f.rotation=U,f.setStyle({verticalAlign:"middle"}),O){f.setStyle({align:k});var F=f.states.select;F&&(F.x+=f.x,F.y+=f.y)}else{var H=f.getBoundingRect().clone();H.applyTransform(f.getComputedTransform());var X=(f.style.margin||0)+2.1;H.y-=X/2,H.height+=X,s.push({label:f,labelLine:y,position:M,len:D,len2:N,minTurnAngle:T.get("minTurnAngle"),maxSurfaceAngle:T.get("maxSurfaceAngle"),surfaceNormal:new i(G,E),linePoints:P,textAlign:k,labelDistance:A,labelAlignTo:w,edgeDistance:S,bleedMargin:L,rect:H,unconstrainedWidth:H.width,labelStyleWidth:f.style.width})}g.setTextConfig({inside:O})}})),!o&&e.get("avoidLabelOverlap")&&function(e,t,a,n,i,r,s,o){for(var l=[],g=[],c=Number.MAX_VALUE,h=-Number.MAX_VALUE,u=0;u<e.length;u++){var d=e[u].label;Le(e[u])||(d.x<t?(c=Math.min(c,d.x),l.push(e[u])):(h=Math.max(h,d.x),g.push(e[u])))}for(u=0;u<e.length;u++)if(!Le(y=e[u])&&y.linePoints){if(null!=y.labelStyleWidth)continue;d=y.label;var f=y.linePoints,p=void 0;p="edge"===y.labelAlignTo?d.x<t?f[2][0]-y.labelDistance-s-y.edgeDistance:s+i-y.edgeDistance-f[2][0]-y.labelDistance:"labelLine"===y.labelAlignTo?d.x<t?c-s-y.bleedMargin:s+i-h-y.bleedMargin:d.x<t?d.x-s-y.bleedMargin:s+i-d.x-y.bleedMargin,y.targetTextWidth=p,Se(y,p)}for(we(g,t,a,n,1,0,r,0,o,h),we(l,t,a,n,-1,0,r,0,o,c),u=0;u<e.length;u++){var y;if(!Le(y=e[u])&&y.linePoints){d=y.label,f=y.linePoints;var v="edge"===y.labelAlignTo,m=d.style.padding,b=m?m[1]+m[3]:0,x=d.style.backgroundColor?0:b,M=y.rect.width+x,A=f[1][0]-f[2][0];v?d.x<t?f[2][0]=s+y.edgeDistance+M+y.labelDistance:f[2][0]=s+i-y.edgeDistance-M-y.labelDistance:(d.x<t?f[2][0]=d.x+y.labelDistance:f[2][0]=d.x-y.labelDistance,f[1][0]=f[2][0]+A),f[1][1]=f[2][1]=d.y}}}(s,t,a,c,h,f,u,d);for(var y=0;y<s.length;y++){var v=s[y],x=v.label,M=v.labelLine,A=isNaN(x.x)||isNaN(x.y);if(x){x.setStyle({align:v.textAlign}),A&&(m(x.states,p),x.ignore=!0);var w=x.states.select;w&&(w.x+=x.x,w.y+=x.y)}if(M){var S=v.linePoints;A||!S?(m(M.states,p),M.ignore=!0):(ye(S,v.minTurnAngle),ve(S,v.surfaceNormal,v.maxSurfaceAngle),M.setShape({points:S}),x.__hostTarget.textGuideLineConfig={anchor:new i(S[0][0],S[0][1])})}}}var De=function(e){function t(t,a,n){var i=e.call(this)||this;i.z2=2;var r=new A;return i.setTextContent(r),i.updateData(t,a,n,!0),i}return M(t,e),t.prototype.updateData=function(e,t,a,n){var i=this,r=e.hostModel,s=e.getItemModel(t),o=s.getModel("emphasis"),l=e.getItemLayout(t),g=w(j(s.getModel("itemStyle"),l,!0),l);if(isNaN(g.startAngle))i.setShape(g);else{if(n){i.setShape(g);var c=r.getShallow("animationType");r.ecModel.ssr?(S(i,{scaleX:0,scaleY:0},r,{dataIndex:t,isFrom:!0}),i.originX=g.cx,i.originY=g.cy):"scale"===c?(i.shape.r=l.r0,S(i,{shape:{r:l.r}},r,t)):null!=a?(i.setShape({startAngle:a,endAngle:a}),S(i,{shape:{startAngle:l.startAngle,endAngle:l.endAngle}},r,t)):(i.shape.endAngle=l.startAngle,L(i,{shape:{endAngle:l.endAngle}},r,t))}else T(i),L(i,{shape:g},r,t);i.useStyle(e.getItemVisual(t,"style")),D(i,s);var h=(l.startAngle+l.endAngle)/2,u=r.get("selectedOffset"),d=Math.cos(h)*u,f=Math.sin(h)*u,p=s.getShallow("cursor");p&&i.attr("cursor",p),this._updateLabel(r,e,t),i.ensureState("emphasis").shape=w({r:l.r+(o.get("scale")&&o.get("scaleSize")||0)},j(o.getModel("itemStyle"),l)),w(i.ensureState("select"),{x:d,y:f,shape:j(s.getModel(["select","itemStyle"]),l)}),w(i.ensureState("blur"),{shape:j(s.getModel(["blur","itemStyle"]),l)});var y=i.getTextGuideLine(),v=i.getTextContent();y&&w(y.ensureState("select"),{x:d,y:f}),w(v.ensureState("select"),{x:d,y:f}),N(this,o.get("focus"),o.get("blurScope"),o.get("disabled"))}},t.prototype._updateLabel=function(e,t,a){var n=this,i=t.getItemModel(a),r=i.getModel("labelLine"),s=t.getItemVisual(a,"style"),l=s&&s.fill,g=s&&s.opacity;I(n,C(i),{labelFetcher:t.hostModel,labelDataIndex:a,inheritColor:l,defaultOpacity:g,defaultText:e.getFormattedLabel(a,"normal")||t.getName(a)});var c=n.getTextContent();n.setTextConfig({position:null,rotation:null}),c.attr({z2:10});var h=e.get(["label","position"]);if("outside"!==h&&"outer"!==h)n.removeTextGuideLine();else{var u=this.getTextGuideLine();u||(u=new o,this.setTextGuideLine(u)),xe(this,Me(i),{stroke:l,opacity:P(r.get(["lineStyle","opacity"]),g,1)})}},t}(k);const Ne=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}return M(t,e),t.prototype.render=function(e,t,a,n){var i,r=e.getData(),s=this._data,o=this.group;if(!s&&r.count()>0){for(var l=r.getItemLayout(0),g=1;isNaN(l&&l.startAngle)&&g<r.count();++g)l=r.getItemLayout(g);l&&(i=l.startAngle)}if(this._emptyCircleSector&&o.remove(this._emptyCircleSector),0===r.count()&&e.get("showEmptyCircle")){var c=new k({shape:Z(e,a)});c.useStyle(e.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=c,o.add(c)}r.diff(s).add((function(e){var t=new De(r,e,i);r.setItemGraphicEl(e,t),o.add(t)})).update((function(e,t){var a=s.getItemGraphicEl(t);a.updateData(r,e,i),a.off("click"),o.add(a),r.setItemGraphicEl(e,a)})).remove((function(t){var a=s.getItemGraphicEl(t);_(a,e,t)})).execute(),Te(e),"expansion"!==e.get("animationTypeUpdate")&&(this._data=r)},t.prototype.dispose=function(){},t.prototype.containPoint=function(e,t){var a=t.getData().getItemLayout(0);if(a){var n=e[0]-a.cx,i=e[1]-a.cy,r=Math.sqrt(n*n+i*i);return r<=a.r&&r>=a.r0}},t.type="pie",t}(G);function Ie(e,t,n){t=a(t)&&{coordDimensions:t}||w({encodeDefine:e.getEncode()},t);var i=e.getSource(),r=E(i,t).dimensions,s=new O(r,e);return s.initData(i,n),s}const Ce=function(){function e(e,t){this._getDataWithEncodedVisual=e,this._getRawData=t}return e.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)},e.prototype.containName=function(e){return this._getRawData().indexOfName(e)>=0},e.prototype.indexOfName=function(e){return this._getDataWithEncodedVisual().indexOfName(e)},e.prototype.getItemVisual=function(e,t){return this._getDataWithEncodedVisual().getItemVisual(e,t)},e}();var Pe=U();const ke=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return M(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new Ce(W(this.getData,this),W(this.getRawData,this)),this._defaultLabelLine(t)},t.prototype.mergeOption=function(){e.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return Ie(this,{coordDimensions:["value"],encodeDefaulter:R(B,this)})},t.prototype.getDataParams=function(t){var a=this.getData(),n=Pe(a),i=n.seats;if(!i){var r=[];a.each(a.mapDimension("value"),(function(e){r.push(e)})),i=n.seats=V(r,a.hostModel.get("percentPrecision"))}var s=e.prototype.getDataParams.call(this,t);return s.percent=i[t]||0,s.$vars.push("percent"),s},t.prototype._defaultLabelLine=function(e){q(e,"labelLine",["show"]);var t=e.labelLine,a=e.emphasis.labelLine;t.show=t.show&&e.label.show,a.show=a.show&&e.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}(z);function _e(e){e.registerChartView(Ne),e.registerSeriesModel(ke),Y("pie",e.registerAction),e.registerLayout(R($,"pie")),e.registerProcessor(J("pie")),e.registerProcessor({seriesType:"pie",reset:function(e,t){var a=e.getData();a.filterSelf((function(e){var t=a.mapDimension("value"),n=a.get(t,e);return!(b(n)&&!isNaN(n)&&n<0)}))}})}export{Ce as L,Ie as c,J as d,Me as g,_e as i,xe as s,de as u};
