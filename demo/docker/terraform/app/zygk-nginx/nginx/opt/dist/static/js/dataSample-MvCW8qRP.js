import{bC as e,g as n,R as t,j as a,aY as r,z as i,aA as s,aa as l}from"./installCanvasRenderer-kp6nwiR2.js";function o(n,t){var a=n.mapDimensionsAll("defaultedLabel"),r=a.length;if(1===r){var i=e(n,t,a[0]);return null!=i?i+"":null}if(r){for(var s=[],l=0;l<a.length;l++)s.push(e(n,t,a[l]));return s.join(" ")}}function u(e,t){var a=e.mapDimensionsAll("defaultedLabel");if(!n(t))return t+"";for(var r=[],i=0;i<a.length;i++){var s=e.getDimensionIndex(a[i]);s>=0&&r.push(t[s])}return r.join(" ")}function h(e,n,r,i,l){var o=e.getArea(),u=o.x,h=o.y,g=o.width,f=o.height,c=r.get(["lineStyle","width"])||2;u-=c/2,h-=c/2,g+=c,f+=c,u=Math.floor(u),g=Math.round(g);var d=new t({shape:{x:u,y:h,width:g,height:f}});if(n){var p=e.getBaseAxis(),v=p.isHorizontal(),m=p.inverse;v?(m&&(d.shape.x+=g),d.shape.width=0):(m||(d.shape.y+=f),d.shape.height=0);var A=s(l)?function(e){l(e,d)}:null;a(d,{shape:{width:g,height:f,x:u,y:h}},r,null,i,A)}return d}function g(e,n,t){var s=e.getArea(),l=r(s.r0,1),o=r(s.r,1),u=new i({shape:{cx:r(e.cx,1),cy:r(e.cy,1),r0:l,r:o,startAngle:s.startAngle,endAngle:s.endAngle,clockwise:s.clockwise}});n&&("angle"===e.getBaseAxis().dim?u.shape.endAngle=s.startAngle:u.shape.r=l,a(u,{shape:{endAngle:s.endAngle,r:o}},t));return u}function f(e,n,t,a,r){return e?"polar"===e.type?g(e,n,t):"cartesian2d"===e.type?h(e,n,t,a,r):null:null}function c(e,n){return e.type===n}var d={average:function(e){for(var n=0,t=0,a=0;a<e.length;a++)isNaN(e[a])||(n+=e[a],t++);return 0===t?NaN:n/t},sum:function(e){for(var n=0,t=0;t<e.length;t++)n+=e[t]||0;return n},max:function(e){for(var n=-Infinity,t=0;t<e.length;t++)e[t]>n&&(n=e[t]);return isFinite(n)?n:NaN},min:function(e){for(var n=Infinity,t=0;t<e.length;t++)e[t]<n&&(n=e[t]);return isFinite(n)?n:NaN},nearest:function(e){return e[0]}},p=function(e){return Math.round(e.length/2)};function v(e){return{seriesType:e,reset:function(e,n,t){var a=e.getData(),r=e.get("sampling"),i=e.coordinateSystem,o=a.count();if(o>10&&"cartesian2d"===i.type&&r){var u=i.getBaseAxis(),h=i.getOtherAxis(u),g=u.getExtent(),f=t.getDevicePixelRatio(),c=Math.abs(g[1]-g[0])*(f||1),v=Math.round(o/c);if(isFinite(v)&&v>1){"lttb"===r&&e.setData(a.lttbDownSample(a.mapDimension(h.dim),1/v));var m=void 0;l(r)?m=d[r]:s(r)&&(m=r),m&&e.setData(a.downSample(a.mapDimension(h.dim),1/v,m,p))}}}}}export{u as a,h as b,f as c,v as d,g as e,o as g,c as i};
