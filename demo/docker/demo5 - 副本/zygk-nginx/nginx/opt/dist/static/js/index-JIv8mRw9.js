var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,l=(t,a,r)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r;import{_ as n}from"./alarm_record_bg-czveVNwc.js";import{a as i}from"./JobOverview-wJdELtdM.js";import{E as c}from"./icon_no_data-JkxAPqfn.js";import{u}from"./useAutoScroll-cuZfK63C.js";import{d as m,Y as p,V as f,r as v,o as d,c as y,J as b,L as w,e as g,t as j,I as x,b as k,u as P,a5 as _,R as O,U as h,a1 as I,_ as C}from"./index-OtYEJMgP.js";import{e as J}from"./mitt-ei5ABelY.js";const R=["onClick"],S={class:"flex flex-row items-center gap-x-2 p-2"},A={class:"txt truncate"},E=(e=>(O("data-v-c65be6e3"),e=e(),h(),e))((()=>g("img",{src:n},null,-1))),N={key:1,class:"w-full h-full flex flex-row items-center justify-center"},T=m((z=((e,t)=>{for(var a in t||(t={}))o.call(t,a)&&l(e,a,t[a]);if(r)for(var a of r(t))s.call(t,a)&&l(e,a,t[a]);return e})({},{name:"ImportantJobPlan"}),t(z,a({__name:"index",emits:["onTotalCount"],setup(e,{emit:t}){const a=p(null),{start:r,stop:o}=u({scrollRef:a,isAutoStart:!0}),s=t,l=p([]),n=_((()=>{return e=this,t=null,a=function*(){l.value=[],o(),yield i().then((e=>{if(I!==e){const{totalCount:t=0,vos:a=[]}=e;l.value=a,r(),s("onTotalCount",{total:t})}}))},new Promise(((r,o)=>{var s=e=>{try{n(a.next(e))}catch(t){o(t)}},l=e=>{try{n(a.throw(e))}catch(t){o(t)}},n=e=>e.done?r(e.value):Promise.resolve(e.value).then(s,l);n((a=a.apply(e,t)).next())}));var e,t,a}),1e3);return f((()=>{n()})),(e,t)=>{const r=v("el-empty");return d(),y("div",{ref_key:"containerRef",ref:a,class:"overflow-y-auto"},[l.value.length?(d(!0),y(b,{key:0},w(l.value,(e=>(d(),y("div",{key:e.taskId,class:"w-full flex flex-col cursor-pointer",onClick:t=>(e=>{"2101002"===e.workProgress&&J.emit("onImportantPlanMarker",e)})(e)},[g("div",S,[g("div",{class:j(["label",[`tag-${e.workProgress}`]])},x(e.workProgressName),3),g("span",A,x(e.taskName),1)]),E],8,R)))),128)):(d(),y("div",N,[k(r,{description:"暂无数据",image:P(c),"image-size":80},null,8,["image"])]))],512)}}}))));var z;const D=C(T,[["__scopeId","data-v-c65be6e3"]]);export{D as default};
