var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,n=(a,t,l)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[t]=l;import{d as i,Y as s,Z as p,n as u,a0 as c,A as g,ao as h,r as f,j as d,w as m,o as v,c as w,b,h as y,u as C,aa as x,f as _,aL as z,a5 as j}from"./index-OtYEJMgP.js";import{u as k}from"./MediaReview-6GObmu50.js";const O=i((P=((e,a)=>{for(var t in a||(a={}))r.call(a,t)&&n(e,t,a[t]);if(l)for(var t of l(a))o.call(a,t)&&n(e,t,a[t]);return e})({},{name:"TerminalUnitFilter"}),a(P,t({__name:"filter",setup(e){const a=s(),{width:t,height:l}=p(a),r=s(),{height:o}=p(r),n=s(),{height:i}=p(n),O=u((()=>({width:`${t.value}`,height:""+(l.value-o.value-i.value-32)}))),P=s(),N=e=>{k().setTerminalUnitParams({type:null,value:e})},R=c({deviceCondition:""}),S=g(!1),U=s([]),F=j((()=>{var e;console.log(R),U.value=[],U.value.length?(e=U.value[0],P.value.setCurrentRow(e)):k().setTerminalUnitParams({type:null,value:{}})}),1e3),T=()=>{V.pageNum=1,F()},V=c({pageNum:1,pageSize:10,total:0}),q=()=>{F()},A=()=>{V.pageNum=1,T()};return h((()=>{T()})),(e,t)=>{const l=f("el-button"),o=f("el-input"),i=f("el-form-item"),s=f("el-form"),p=f("el-table-column"),u=f("el-pagination"),c=d("loading");return m((v(),w("div",{ref_key:"containerRef",ref:a,class:"w-full h-full flex flex-col gap-y-4"},[b(s,{ref_key:"searchFormRef",ref:r,inline:!0,class:"w-full table-query"},{default:y((()=>[b(i,{class:"col-span-3 m-0"},{default:y((()=>[b(o,{modelValue:R.deviceCondition,"onUpdate:modelValue":t[0]||(t[0]=e=>R.deviceCondition=e),placeholder:"请输入设备名称/编码",clearable:""},{prepend:y((()=>[b(l,{icon:C(x)},null,8,["icon"])])),append:y((()=>[b(l,{class:"search-text",onClick:T},{default:y((()=>[_("搜索")])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1},512),b(C(z),{ref_key:"tableRef",ref:P,width:O.value.width,height:O.value.height,data:U.value,"show-overflow-tooltip":"","highlight-current-row":"",onCurrentChange:N},{default:y((()=>[b(p,{prop:"deviceName",align:"center",label:"设备名称","show-overflow-tooltip":{popperClass:"max-w-xs whitespace-break-spaces"}}),b(p,{prop:"deviceCode",align:"center",label:"设备编码","show-overflow-tooltip":{popperClass:"max-w-xs whitespace-break-spaces"}}),b(p,{prop:"usageFrequency",align:"center",label:"使用频次","show-overflow-tooltip":{popperClass:"max-w-xs whitespace-break-spaces"}})])),_:1},8,["width","height","data"]),b(u,{ref_key:"paginationRef",ref:n,"current-page":V.pageNum,"onUpdate:currentPage":t[1]||(t[1]=e=>V.pageNum=e),"page-size":V.pageSize,"onUpdate:pageSize":t[2]||(t[2]=e=>V.pageSize=e),small:"",background:"",layout:"total, sizes, prev, pager, next",total:V.total,"page-sizes":[10,20,30,40,50,100],onSizeChange:A,onCurrentChange:q},null,8,["current-page","page-size","total"])])),[[c,S.value]])}}}))));var P;export{O as _};
