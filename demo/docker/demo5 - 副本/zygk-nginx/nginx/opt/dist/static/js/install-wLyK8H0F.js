import{_ as t,ab as e,aL as i,aM as o,aN as n,W as a,b as r,aO as s,aP as l,aQ as c,aR as u,aS as h,aT as p,aU as d,aV as x,aW as g,aX as f,aY as y,aC as m,aZ as v,ak as A,M as b,a_ as C,a$ as M,b0 as _,b1 as L,b2 as S,I as w,b3 as T,b4 as k,b5 as G,g as I,R as E,E as P,G as D,b6 as z,b7 as B,p as F,b8 as O,b9 as R,ba as V,bb as W,aE as N,u as H,aJ as Z}from"./installCanvasRenderer-kp6nwiR2.js";import{A as j,C as U,a as J}from"./Axis-xmqQ_bGV.js";const Q=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return t(i,e),i.type="grid",i.dependencies=["xAxis","yAxis"],i.layoutMode="box",i.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},i}(e);var X=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}return t(o,e),o.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",i).models[0]},o.type="cartesian2dAxis",o}(e);o(X,j);var Y={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},$=n({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},Y),q=n({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},Y);const K={category:$,value:q,time:n({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},q),log:a({logBase:10},q)};var tt={value:1,category:1,time:1,log:1};function et(e,i,o,a){r(tt,(function(r,h){var p=n(n({},K[h],!0),a,!0),d=function(e){function o(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i+"Axis."+h,t}return t(o,e),o.prototype.mergeDefaultAndTheme=function(t,e){var i=s(this),o=i?l(t):{},a=e.getTheme();n(t,a.get(h+"Axis")),n(t,this.getDefaultOption()),t.type=it(t),i&&c(t,o,i)},o.prototype.optionUpdated=function(){"category"===this.option.type&&(this.__ordinalMeta=u.createByAxisModel(this))},o.prototype.getCategories=function(t){var e=this.option;if("category"===e.type)return t?e.data:this.__ordinalMeta.categories},o.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},o.type=i+"Axis."+h,o.defaultOption=p,o}(o);e.registerComponentModel(d)})),e.registerSubTypeDefaulter(i+"Axis",it)}function it(t){return t.type||(t.data?"category":"value")}var ot=["x","y"];function nt(t){return"interval"===t.type||"time"===t.type}var at=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="cartesian2d",t.dimensions=ot,t}return t(i,e),i.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,e=this.getAxis("y").scale;if(nt(t)&&nt(e)){var i=t.getExtent(),o=e.getExtent(),n=this.dataToPoint([i[0],o[0]]),a=this.dataToPoint([i[1],o[1]]),r=i[1]-i[0],s=o[1]-o[0];if(r&&s){var l=(a[0]-n[0])/r,c=(a[1]-n[1])/s,u=n[0]-i[0]*l,p=n[1]-o[0]*c,d=this._transform=[l,0,0,c,u,p];this._invTransform=h([],d)}}},i.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},i.prototype.containPoint=function(t){var e=this.getAxis("x"),i=this.getAxis("y");return e.contain(e.toLocalCoord(t[0]))&&i.contain(i.toLocalCoord(t[1]))},i.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},i.prototype.containZone=function(t,e){var i=this.dataToPoint(t),o=this.dataToPoint(e),n=this.getArea(),a=new p(i[0],i[1],o[0]-i[0],o[1]-i[1]);return n.intersect(a)},i.prototype.dataToPoint=function(t,e,i){i=i||[];var o=t[0],n=t[1];if(this._transform&&null!=o&&isFinite(o)&&null!=n&&isFinite(n))return d(i,t,this._transform);var a=this.getAxis("x"),r=this.getAxis("y");return i[0]=a.toGlobalCoord(a.dataToCoord(o,e)),i[1]=r.toGlobalCoord(r.dataToCoord(n,e)),i},i.prototype.clampData=function(t,e){var i=this.getAxis("x").scale,o=this.getAxis("y").scale,n=i.getExtent(),a=o.getExtent(),r=i.parse(t[0]),s=o.parse(t[1]);return(e=e||[])[0]=Math.min(Math.max(Math.min(n[0],n[1]),r),Math.max(n[0],n[1])),e[1]=Math.min(Math.max(Math.min(a[0],a[1]),s),Math.max(a[0],a[1])),e},i.prototype.pointToData=function(t,e){var i=[];if(this._invTransform)return d(i,t,this._invTransform);var o=this.getAxis("x"),n=this.getAxis("y");return i[0]=o.coordToData(o.toLocalCoord(t[0]),e),i[1]=n.coordToData(n.toLocalCoord(t[1]),e),i},i.prototype.getOtherAxis=function(t){return this.getAxis("x"===t.dim?"y":"x")},i.prototype.getArea=function(){var t=this.getAxis("x").getGlobalExtent(),e=this.getAxis("y").getGlobalExtent(),i=Math.min(t[0],t[1]),o=Math.min(e[0],e[1]),n=Math.max(t[0],t[1])-i,a=Math.max(e[0],e[1])-o;return new p(i,o,n,a)},i}(U);const rt=function(e){function i(t,i,o,n,a){var r=e.call(this,t,i,o)||this;return r.index=0,r.type=n||"value",r.position=a||"bottom",r}return t(i,e),i.prototype.isHorizontal=function(){var t=this.position;return"top"===t||"bottom"===t},i.prototype.getGlobalExtent=function(t){var e=this.getExtent();return e[0]=this.toGlobalCoord(e[0]),e[1]=this.toGlobalCoord(e[1]),t&&e[0]>e[1]&&e.reverse(),e},i.prototype.pointToData=function(t,e){return this.coordToData(this.toLocalCoord(t["x"===this.dim?0:1]),e)},i.prototype.setCategorySortInfo=function(t){if("category"!==this.type)return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},i}(J);var st=Math.log;function lt(t,e,i){var o=x.prototype,n=o.getTicks.call(i),a=o.getTicks.call(i,!0),r=n.length-1,s=o.getInterval.call(i),l=g(t,e),c=l.extent,u=l.fixMin,h=l.fixMax;if("log"===t.type){var p=st(t.base);c=[st(c[0])/p,st(c[1])/p]}t.setExtent(c[0],c[1]),t.calcNiceExtent({splitNumber:r,fixMin:u,fixMax:h});var d=o.getExtent.call(t);u&&(c[0]=d[0]),h&&(c[1]=d[1]);var m=o.getInterval.call(t),v=c[0],A=c[1];if(u&&h)m=(A-v)/r;else if(u)for(A=c[0]+m*r;A<c[1]&&isFinite(A)&&isFinite(c[1]);)m=f(m),A=c[0]+m*r;else if(h)for(v=c[1]-m*r;v>c[0]&&isFinite(v)&&isFinite(c[0]);)m=f(m),v=c[1]-m*r;else{t.getTicks().length-1>r&&(m=f(m));var b=m*r;A=Math.ceil(c[1]/m)*m,(v=y(A-b))<0&&c[0]>=0?(v=0,A=y(b)):A>0&&c[1]<=0&&(A=0,v=-y(b))}var C=(n[0].value-a[0].value)/s,M=(n[r].value-a[r].value)/s;o.setExtent.call(t,v+m*C,A+m*M),o.setInterval.call(t,m),(C||M)&&o.setNiceExtent.call(t,v+m,A-m)}function ct(t,e){return t.getCoordSysModel()===e}function ut(t,e,i,o){i.getAxesOnZeroOf=function(){return n?[n]:[]};var n,a=t[e],r=i.model,s=r.get(["axisLine","onZero"]),l=r.get(["axisLine","onZeroAxisIndex"]);if(s){if(null!=l)ht(a[l])&&(n=a[l]);else for(var c in a)if(a.hasOwnProperty(c)&&ht(a[c])&&!o[u(a[c])]){n=a[c];break}n&&(o[u(n)]=!0)}function u(t){return t.dim+"_"+t.index}}function ht(t){return t&&"category"!==t.type&&"time"!==t.type&&S(t)}const pt=function(){function t(t,e,i){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=ot,this._initCartesian(t,e,i),this.model=t}return t.prototype.getRect=function(){return this._rect},t.prototype.update=function(t,e){var i=this._axesMap;function o(t){var e,i=w(t),o=i.length;if(o){for(var n=[],a=o-1;a>=0;a--){var s=t[+i[a]],l=s.model,c=s.scale;T(c)&&l.get("alignTicks")&&null==l.get("interval")?n.push(s):(k(c,l),T(c)&&(e=s))}n.length&&(e||(e=n.pop(),k(e.scale,e.model)),r(n,(function(t){lt(t.scale,t.model,e.scale)})))}}this._updateScale(t,this.model),o(i.x),o(i.y);var n={};r(i.x,(function(t){ut(i,"y",t,n)})),r(i.y,(function(t){ut(i,"x",t,n)})),this.resize(this.model,e)},t.prototype.resize=function(t,e,i){var o=t.getBoxLayoutParams(),n=!i&&t.get("containLabel"),a=m(o,{width:e.getWidth(),height:e.getHeight()});this._rect=a;var s=this._axesList;function l(){r(s,(function(t){var e=t.isHorizontal(),i=e?[0,a.width]:[0,a.height],o=t.inverse?1:0;t.setExtent(i[o],i[1-o]),function(t,e){var i=t.getExtent(),o=i[0]+i[1];t.toGlobalCoord="x"===t.dim?function(t){return t+e}:function(t){return o-t+e},t.toLocalCoord="x"===t.dim?function(t){return t-e}:function(t){return o-t+e}}(t,e?a.x:a.y)}))}l(),n&&(r(s,(function(t){if(!t.model.get(["axisLabel","inside"])){var e=v(t);if(e){var i=t.isHorizontal()?"height":"width",o=t.model.get(["axisLabel","margin"]);a[i]-=e[i]+o,"top"===t.position?a.y+=e.height+o:"left"===t.position&&(a.x+=e.width+o)}}})),l()),r(this._coordsList,(function(t){t.calcAffineTransform()}))},t.prototype.getAxis=function(t,e){var i=this._axesMap[t];if(null!=i)return i[e||0]},t.prototype.getAxes=function(){return this._axesList.slice()},t.prototype.getCartesian=function(t,e){if(null!=t&&null!=e){var i="x"+t+"y"+e;return this._coordsMap[i]}A(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var o=0,n=this._coordsList;o<n.length;o++)if(n[o].getAxis("x").index===t||n[o].getAxis("y").index===e)return n[o]},t.prototype.getCartesians=function(){return this._coordsList.slice()},t.prototype.convertToPixel=function(t,e,i){var o=this._findConvertTarget(e);return o.cartesian?o.cartesian.dataToPoint(i):o.axis?o.axis.toGlobalCoord(o.axis.dataToCoord(i)):null},t.prototype.convertFromPixel=function(t,e,i){var o=this._findConvertTarget(e);return o.cartesian?o.cartesian.pointToData(i):o.axis?o.axis.coordToData(o.axis.toLocalCoord(i)):null},t.prototype._findConvertTarget=function(t){var e,o,n=t.seriesModel,a=t.xAxisModel||n&&n.getReferringComponents("xAxis",i).models[0],r=t.yAxisModel||n&&n.getReferringComponents("yAxis",i).models[0],s=t.gridModel,l=this._coordsList;if(n)e=n.coordinateSystem,b(l,e)<0&&(e=null);else if(a&&r)e=this.getCartesian(a.componentIndex,r.componentIndex);else if(a)o=this.getAxis("x",a.componentIndex);else if(r)o=this.getAxis("y",r.componentIndex);else if(s){s.coordinateSystem===this&&(e=this._coordsList[0])}return{cartesian:e,axis:o}},t.prototype.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},t.prototype._initCartesian=function(t,e,i){var o=this,n=this,a={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},l={x:0,y:0};if(e.eachComponent("xAxis",c("x"),this),e.eachComponent("yAxis",c("y"),this),!l.x||!l.y)return this._axesMap={},void(this._axesList=[]);function c(e){return function(i,o){if(ct(i,t)){var r=i.get("position");"x"===e?"top"!==r&&"bottom"!==r&&(r=a.bottom?"top":"bottom"):"left"!==r&&"right"!==r&&(r=a.left?"right":"left"),a[r]=!0;var c=new rt(e,C(i),[0,0],i.get("type"),r),u="category"===c.type;c.onBand=u&&i.get("boundaryGap"),c.inverse=i.get("inverse"),i.axis=c,c.model=i,c.grid=n,c.index=o,n._axesList.push(c),s[e][o]=c,l[e]++}}}this._axesMap=s,r(s.x,(function(e,i){r(s.y,(function(n,a){var r="x"+i+"y"+a,s=new at(r);s.master=o,s.model=t,o._coordsMap[r]=s,o._coordsList.push(s),s.addAxis(e),s.addAxis(n)}))}))},t.prototype._updateScale=function(t,e){function i(t,e){r(L(t,e.dim),(function(i){e.scale.unionExtentFromData(t,i)}))}r(this._axesList,(function(t){if(t.scale.setExtent(Infinity,-Infinity),"category"===t.type){var e=t.model.get("categorySortInfo");t.scale.setSortInfo(e)}})),t.eachSeries((function(t){if(M(t)){var o=_(t),n=o.xAxisModel,a=o.yAxisModel;if(!ct(n,e)||!ct(a,e))return;var r=this.getCartesian(n.componentIndex,a.componentIndex),s=t.getData(),l=r.getAxis("x"),c=r.getAxis("y");i(s,l),i(s,c)}}),this)},t.prototype.getTooltipAxes=function(t){var e=[],i=[];return r(this.getCartesians(),(function(o){var n=null!=t&&"auto"!==t?o.getAxis(t):o.getBaseAxis(),a=o.getOtherAxis(n);b(e,n)<0&&e.push(n),b(i,a)<0&&i.push(a)})),{baseAxes:e,otherAxes:i}},t.create=function(e,i){var o=[];return e.eachComponent("grid",(function(n,a){var r=new t(n,e,i);r.name="grid_"+a,r.resize(n,i,!0),n.coordinateSystem=r,o.push(r)})),e.eachSeries((function(t){if(M(t)){var e=_(t),i=e.xAxisModel,o=e.yAxisModel,n=i.getCoordSysModel().coordinateSystem;t.coordinateSystem=n.getCartesian(i.componentIndex,o.componentIndex)}})),o},t.dimensions=ot,t}();var dt=P();function xt(t,e,i,o){var n=i.axis;if(!n.scale.isBlank()){var r=i.getModel("splitArea"),s=r.getModel("areaStyle"),l=s.get("color"),c=o.coordinateSystem.getRect(),u=n.getTicksCoords({tickModel:r,clamp:!0});if(u.length){var h=l.length,p=dt(t).splitAreaColors,d=G(),x=0;if(p)for(var g=0;g<u.length;g++){var f=p.get(u[g].tickValue);if(null!=f){x=(f+(h-1)*g)%h;break}}var y=n.toGlobalCoord(u[0].coord),m=s.getAreaStyle();l=I(l)?l:[l];for(g=1;g<u.length;g++){var v=n.toGlobalCoord(u[g].coord),A=void 0,b=void 0,C=void 0,M=void 0;n.isHorizontal()?(A=y,b=c.y,C=v-A,M=c.height,y=A+C):(A=c.x,b=y,C=c.width,y=b+(M=v-b));var _=u[g-1].tickValue;null!=_&&d.set(_,x),e.add(new E({anid:null!=_?"area_"+_:null,shape:{x:A,y:b,width:C,height:M},style:a({fill:l[x]},m),autoBatch:!0,silent:!0})),x=(x+1)%h}dt(t).splitAreaColors=d}}}function gt(t){dt(t).splitAreaColors=null}var ft=["axisLine","axisTickLabel","axisName"],yt=["splitArea","splitLine","minorSplitLine"],mt=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t.axisPointerClass="CartesianAxisPointer",t}return t(i,e),i.prototype.render=function(t,i,o,n){this.group.removeAll();var a=this._axisGroup;if(this._axisGroup=new D,this.group.add(this._axisGroup),t.get("show")){var s=t.getCoordSysModel(),l=z(s,t),c=new B(t,F({handleAutoShown:function(e){for(var i=s.coordinateSystem.getCartesians(),o=0;o<i.length;o++)if(T(i[o].getOtherAxis(t.axis).scale))return!0;return!1}},l));r(ft,c.add,c),this._axisGroup.add(c.getGroup()),r(yt,(function(e){t.get([e,"show"])&&vt[e](this,this._axisGroup,t,s)}),this),n&&"changeAxisOrder"===n.type&&n.isInitSort||O(a,this._axisGroup,t),e.prototype.render.call(this,t,i,o,n)}},i.prototype.remove=function(){gt(this)},i.type="cartesianAxis",i}(R),vt={splitLine:function(t,e,i,o){var n=i.axis;if(!n.scale.isBlank()){var r=i.getModel("splitLine"),s=r.getModel("lineStyle"),l=s.get("color");l=I(l)?l:[l];for(var c=o.coordinateSystem.getRect(),u=n.isHorizontal(),h=0,p=n.getTicksCoords({tickModel:r}),d=[],x=[],g=s.getLineStyle(),f=0;f<p.length;f++){var y=n.toGlobalCoord(p[f].coord);u?(d[0]=y,d[1]=c.y,x[0]=y,x[1]=c.y+c.height):(d[0]=c.x,d[1]=y,x[0]=c.x+c.width,x[1]=y);var m=h++%l.length,v=p[f].tickValue,A=new V({anid:null!=v?"line_"+p[f].tickValue:null,autoBatch:!0,shape:{x1:d[0],y1:d[1],x2:x[0],y2:x[1]},style:a({stroke:l[m]},g),silent:!0});W(A.shape,g.lineWidth),e.add(A)}}},minorSplitLine:function(t,e,i,o){var n=i.axis,a=i.getModel("minorSplitLine").getModel("lineStyle"),r=o.coordinateSystem.getRect(),s=n.isHorizontal(),l=n.getMinorTicksCoords();if(l.length)for(var c=[],u=[],h=a.getLineStyle(),p=0;p<l.length;p++)for(var d=0;d<l[p].length;d++){var x=n.toGlobalCoord(l[p][d].coord);s?(c[0]=x,c[1]=r.y,u[0]=x,u[1]=r.y+r.height):(c[0]=r.x,c[1]=x,u[0]=r.x+r.width,u[1]=x);var g=new V({anid:"minor_line_"+l[p][d].tickValue,autoBatch:!0,shape:{x1:c[0],y1:c[1],x2:u[0],y2:u[1]},style:h,silent:!0});W(g.shape,h.lineWidth),e.add(g)}},splitArea:function(t,e,i,o){xt(t,e,i,o)}},At=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return t(i,e),i.type="xAxis",i}(mt),bt=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=At.type,t}return t(i,e),i.type="yAxis",i}(mt),Ct=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="grid",t}return t(i,e),i.prototype.render=function(t,e){this.group.removeAll(),t.get("show")&&this.group.add(new E({shape:t.coordinateSystem.getRect(),style:a({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},i.type="grid",i}(N),Mt={offset:0};function _t(t){t.registerComponentView(Ct),t.registerComponentModel(Q),t.registerCoordinateSystem("cartesian2d",pt),et(t,"x",X,Mt),et(t,"y",X,Mt),t.registerComponentView(At),t.registerComponentView(bt),t.registerPreprocessor((function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})}))}function Lt(t){H(_t),H(Z)}export{_t as a,K as b,lt as c,et as d,xt as e,Lt as i,gt as r};
